<md-content
	mb-preloading="ctrl.working"
	flex>
	<!-- New user  -->
	<mb-titled-block 
		mb-title="New user"
		mb-progress="ctrl.working">
	 	<form 
	 		name="ctrl.myForm" 
		 	layout="column" 
			ng-submit="addUser(model, ctrl.myForm)">
		    <input hide type="submit" />
		    <div style="text-align: center;"
				layout-margin
				ng-show="!ctrl.working && errorMessage"> 
				<p><span md-colors="{color:'warn'}" mb-translate>{{errorMessage}}</span></p>
			</div>
			<div 
				layout="column" 
				layout-padding>
			  <md-input-container>
			    <label mb-translate>Username</label>
			    <input 
			    	name="login" 
			    	ng-model="model.login" 
			    	type="text" required>
			    <div ng-messages="ctrl.myForm.login.$error" md-auto-hide="false">
					<div ng-message="required" mb-translate>This field is required.</div>
					<div ng-message="unique" mb-translate>Username is used before.</div>
					<div ng-message="minlength" mb-translate>Username is too short.</div>
				</div>
			  </md-input-container>
			  <md-input-container>
			    <label mb-translate>Email</label>
			    <input name="email" ng-model="model.email" type="email" required>
			    <div ng-messages="ctrl.myForm.email.$error" md-auto-hide="false">
					<div ng-message="required" mb-translate>This field is required.</div>
					<div ng-message="notnull" mb-translate>This field is required.</div>
					<div ng-message="email" mb-translate>Email is not valid.</div>
				</div>
			  </md-input-container>
			  <md-input-container>
			    <label mb-translate>Password</label>
			    <input 
			    	name="password" 
			    	ng-model="model.password" 
			    	type="password" 
			    	required>
			    <div 
			    	ng-messages="ctrl.myForm.password.$error" 
			    	md-auto-hide="false">
					<div ng-message="required" mb-translate>This field is required.</div>
					<div ng-message="minlength" mb-translate>Password is too short.</div>
				</div>
			  </md-input-container>
			</div>
			
			<div layout="row">
				<span flex></span>
				<md-button 
					class="md-raised"
					ng-click="cancel()">
<!-- 					<mb-icon>close</mb-icon> -->
					<span mb-translate>Cancel</span>
				</md-button>
				<md-button 
					class="md-raised md-primary"
					ng-click="addUser(model, ctrl.myForm)">
<!-- 					<mb-icon>done</mb-icon> -->
					<span mb-translate>Add</span>
				</md-button>
			</div>
		</form>
	</mb-titled-block>
</md-content>
