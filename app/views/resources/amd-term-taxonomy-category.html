<div  
	ng-controller="AmdCmsTermTaxonomiesCtrl as ctrlCollection"
	ng-init="ctrlCollection.setDataQuery('{id, taxonomy, description, count, term{id, name}}');
		ctrlCollection.addFilter('taxonomy', 'category');"
	mb-preloading="ctrlCollection.state === 'busy'"
	layout="column"
	flex>
	<mb-pagination-bar
		mb-model="ctrlCollection.queryParameter"
		mb-reload="ctrlCollection.reload()"
		mb-sort-keys="ctrlCollection.getSortKeys()"
		mb-more-actions="ctrlCollection.getActions()"
		mb-properties="ctrlCollection.properties">
	</mb-pagination-bar>
	<md-content
		mb-infinate-scroll="ctrlCollection.loadNextPage()"
		layout="column"
		flex>
		<md-list flex>
			<md-list-item 
				ng-repeat="content in ctrlCollection.items track by content.id"
				md-colors="resourceCtrl.isSelected(content) ? {background:'accent'} : {}"
				ng-click="resourceCtrl.toggleSelected(content)"
				class="md-3-line">
				<div 
					class="md-list-item-text" 
					layout="column">
					<h3>{{::content.term.name}} ({{::content.count}})</h3>
					<p>{{::content.description}}</p>
				</div>
				<md-checkbox 
					ng-if="multi"
					class="md-secondary"
					ng-init="content.selected = resourceCtrl.isSelected(content)" 
					ng-model="content.selected"
					ng-change="resourceCtrl.setSelected(content, content.selected)">
				</md-checkbox>
				<md-divider md-inset></md-divider>
			</md-list-item>
		</md-list>
	</md-content>
</div>
